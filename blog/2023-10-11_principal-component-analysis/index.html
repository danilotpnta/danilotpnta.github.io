<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.53">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Danilo Toapanta">
<meta name="dcterms.date" content="2023-10-11">
<meta name="description" content="Lecture Notes on 9-10-2023">

<title>Principal Component Analysis (PCA) â€“ Danilo Toapanta</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/danilo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<!-- <link href="../../site_libs/quarto-contrib/material-icons-0.14.2/mi.css" rel="stylesheet"> -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  function openSearchIfParamExists() {
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.has('search')) {
      // Programmatically click the search icon to open the search overlay
      const searchIcon = document.querySelector('.bi-search');
      if (searchIcon) {
        searchIcon.click(); // Trigger the search icon click to open the search overlay
        setTimeout(() => {
          const searchBox = document.querySelector('.aa-Input');
          if (searchBox) {
            searchBox.focus(); // Focus on the actual input box
          }
        }, 500); // Adjust the timeout as needed
      }
    }
  }

  // Call the function to check the query parameter and open the search if needed
  openSearchIfParamExists();
});

</script>
<script>
window.MathJax = {
  tex: {
    tags: 'ams'
  }
};
</script>
<link rel="shortcut icon" href="../../../../../../../../../../../assets/danilo.ico">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../css/index-posts.css">
</head>

<body class="floating nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <div id="quarto-announcement" data-announcement-id="af66dd50c39dd2ed9de488e10a192054" class="alert alert-primary hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Let op</strong> - This website is undergoing scheduled maintenance</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title"><span id="danilo_topanta_brand"> Danilo Toapanta</span> <a id="mysite" class="mysite" href="../../../../../sites/">MySites</a></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text"><span id="home-welcome-msg">Home</span></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects/index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/danilotpnta?tab=repositories" target="_blank"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full blog-page" style="display: none !important;">
    <div class="quarto-title-banner page-columns page-full">
        <div class="quarto-title column-body">
            <h1 class="title">Principal Component Analysis (PCA)</h1>
                
            <!-- Description Block -->
                        <div>
                <div class="description">
                    Lecture Notes on 9-10-2023
                </div>
            </div>
                        
            <!-- Categories Block -->
                                            <div class="quarto-categories">

                    <!-- Display Categories -->
                                            <div class="quarto-category">
                            <a href="../../blog/#category=All">
                                All
                            </a>
                        </div> 
                                            <div class="quarto-category">
                            <a href="../../blog/#category=Machine Learning">
                                Machine Learning
                            </a>
                        </div> 
                                            <div class="quarto-category">
                            <a href="../../blog/#category=TAGS">
                                TAGS
                            </a>
                        </div> 
                                            <div class="quarto-category">
                            <a href="../../blog/#category=Linear models">
                                Linear models
                            </a>
                        </div> 
                    
                    <!-- Display Tags if any -->
                                    </div>
                            
        </div>
    </div>


    
    <div class="quarto-title-meta">

        <div>
        <div class="quarto-title-meta-heading">Author</div>
        <div class="quarto-title-meta-contents">
                 <p><a href="https://danilotpnta.github.io/">Danilo Toapanta</a> </p>
              </div>
      </div>
        
        <div>
        <div class="quarto-title-meta-heading">Published</div>
        <div class="quarto-title-meta-contents">
          <p class="date">October 11, 2023</p>
        </div>
      </div>
      
        
      </div>
      

    
</header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">
<script>
    var currentUrl = window.location.href;
    var index_init_post = currentUrl.lastIndexOf("/20");
    var string_init_post= currentUrl.slice(index_init_post, index_init_post+3 );

    // console.log("currentUrl: " + currentUrl);
    // console.log("index: " + index_init_post);
    // console.log("string: " + string_init_post);

    // If is equal to /blog/20... then make navbar title READING MODE
    if (string_init_post === "/20"){
        let mysite = document.getElementById("mysite");
        mysite.classList.add("mysite-change");

        let navbar = document.getElementById("danilo_topanta_brand");
        navbar.classList.add("navbar-brand-change");

        // This will render a new title saying READING DANILOS BLOG
        // navbar.innerHTML = 'You are Reading Danilo\'s Blog<span style="font-size:35px; vertical-align: middle; opacity: 0.65; padding-bottom: 6px; padding-left: 14px;" class="material-icons-round"> auto_awesome </span>';
        
        const smallDevice = window.matchMedia("(min-width: 570px)");
        smallDevice.addListener(handleDeviceChange);

        function handleDeviceChange(mediaQuery) {
            if (mediaQuery.matches) {
                navbar.innerHTML = "";
                // navbar.innerHTML = "<-- You are Reading Danilo's Blog -->";
            } else  {
                navbar.innerHTML = "Danilo Toapanta";
            }
        }

        // Run it initially
        handleDeviceChange(smallDevice);

        let link = document.getElementsByClassName("navbar-brand")[0];
        link.classList.add("disablePointerEvents");

        let brand_container = document.getElementsByClassName("navbar-brand-container")[0];
        brand_container.classList.add("navbar-brand-container-new-padding");

    }
</script>


<!-- <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Running my first Marathon</h1>
                  <div>
        <div class="description">
          I will be running at the 42km TCS Amsterdam 2023, 15th October
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">News</div>
              </div>
                  </div>
  </div> -->

  <!-- ---
  coming-soon: true
  tags: [Spanish]
  --- -->








<main id="title-block-header" class="quarto-title-block default page-columns page-full" style="padding-bottom: 40px;">

    <div class="quarto-title column-body" style="margin-bottom: 1em;">
        <h1 class="title" style="padding-bottom:8px" ;="">Principal Component Analysis (PCA)</h1>
        
        <!-- Description Block -->
                    <div>
                <div class="description">
                    Lecture Notes on 9-10-2023
                </div>
            </div>
        
        <!-- Categories Block -->
                    
                <!-- Display Categories -->
                <div class="quarto-categories">
                    <!-- <div id="tag-icon-blog" class="quarto-category tags-title">
                        <i class="fa-solid fa-hashtag" ></i> Categories:
                    </div> -->

                                            <div id="All" class="quarto-category">
                            <a href="../../blog/#category=All">
                                All
                            </a>
                        </div>
                                            <div id="Machine Learning" class="quarto-category">
                            <a href="../../blog/#category=Machine Learning">
                                Machine Learning
                            </a>
                        </div>
                                            <div id="TAGS" class="quarto-category">
                            <a href="../../blog/#category=TAGS">
                                TAGS
                            </a>
                        </div>
                                            <div id="Linear models" class="quarto-category">
                            <a href="../../blog/#category=Linear models">
                                Linear models
                            </a>
                        </div>
                                    </div>
                


                <div class="quarto-categories tag-categories">
                    
                    <!-- Tags Icon  -->
                    <!-- <div id="tag-icon-blog" class="quarto-category tags-title"> -->
                        <!-- <i class="fa-solid fa-tag" ></i> Tags: -->
                        <!-- <i class="fa-solid fa-hashtag" ></i> Tags: -->
                        <!-- <span class="material-icons-outlined" >local_offer</span> Tags: -->
                        <!-- / -->
                    <!-- </div> -->

                    <!-- Display Tags -->
                                            <div id="All-from-here" class="quarto-category tags-title" style="display: none;">
                            <a href="../../blog/#category=All">
                               <!-- <span class="hasth-tag">
                                #
                                </span> -->
                                All
                            </a>
                        </div>
                                            <div id="Machine Learning-from-here" class="quarto-category tags-title" style="display: none;">
                            <a href="../../blog/#category=Machine Learning">
                               <!-- <span class="hasth-tag">
                                #
                                </span> -->
                                Machine Learning
                            </a>
                        </div>
                                            <div id="TAGS-from-here" class="quarto-category tags-title" style="display: none;">
                            <a href="../../blog/#category=TAGS">
                               <!-- <span class="hasth-tag">
                                #
                                </span> -->
                                TAGS
                            </a>
                        </div>
                                            <div id="Linear models-from-here" class="quarto-category tags-title" style="display: none;">
                            <a href="../../blog/#category=Linear models">
                               <!-- <span class="hasth-tag">
                                #
                                </span> -->
                                Linear models
                            </a>
                        </div>
                    
                    
                </div>

                    
    </div>


    
    <div class="quarto-title-meta">

        <div>
        <div class="quarto-title-meta-heading">Author</div>
        <div class="quarto-title-meta-contents">
                 <p><a href="https://danilotpnta.github.io/">Danilo Toapanta</a> </p>
              </div>
      </div>
        
        <div>
        <div class="quarto-title-meta-heading">Published</div>
        <div class="quarto-title-meta-contents">
          <p class="date">October 11, 2023</p>
        </div>
      </div>
      
        
      </div>
      

    <!-- Current link: Font-awesome, Google icons, Bootstrap icons -->
    
</main>


<section id="continuous-latent-space" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="continuous-latent-space"><span class="header-section-number">1</span> Continuous latent space</h2>
<p>The idea is of latent variables is that the data is described in the low dimensional latent space and somehow it can map it to this hight dimensional space.</p>
</section>
<section id="principal-component-analysis-pca" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="principal-component-analysis-pca"><span class="header-section-number">2</span> Principal Component Analysis (PCA)</h2>
<p>Imagine I have the bottom right plot in multiple dimensions so not only 2D dimensions. I can compute a mean and a covariance matrix to fit this data.</p>
<p>Now I pick only line and I will fit the data in 1D-dimension i.e using Gaussian with the mean and convariance from the original plot. This mapping depends on the direction on the line for the PCA, imagine now the green line below then the gaussian will look different</p>
<center>
<img src="imgs/2023-10-11-08-34-05.png" class="w500 img-fluid">
</center>
<pre></pre>
<ul>
<li>So we want to find the direction in which it maximizes the variance data. This is important because if you have a low variance then all the points map to this compressed graph and may look like one point when in reality there are plenty.</li>
</ul>
</section>
<section id="recall-orthonomal-projections" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="recall-orthonomal-projections"><span class="header-section-number">3</span> Recall orthonomal projections</h2>
<ul>
<li>The <a href="https://youtu.be/9-9uJPMN7rc?si=C-39unaxbvIqEpER&amp;t=81">span</a> of a vector.</li>
</ul>
</section>
<section id="d-projection" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="d-projection"><span class="header-section-number">4</span> 1D Projection</h2>
<p>Remarks:</p>
<ul>
<li>Here the <span class="math inline">\(z_1\)</span> is the projected point into the 1D-dimensional space if we would like more than one dimension then this z_1 would be now a vector <span class="math inline">\(\textbf{z}_1\)</span> with dimensions <span class="math inline">\(M\)</span></li>
</ul>
</section>
<section id="maximizing-the-variance-of-1-component" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="maximizing-the-variance-of-1-component"><span class="header-section-number">5</span> Maximizing the variance of 1 component</h2>
<p>The principal components are the <span class="math inline">\(u_1\)</span> the lines (the directions)</p>
<center>
<img src="imgs/2023-10-12-20-20-56.png" class="w575 img-fluid">
</center>
<pre></pre>
<section id="pca-via-maximum-variance" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="pca-via-maximum-variance"><span class="header-section-number">5.1</span> PCA via maximum variance</h3>
<center>
<img src="imgs/2023-10-13-09-49-50.png" class="w550 img-fluid">
</center>
<pre></pre>
</section>
<section id="reminder-eigen-de-composition" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="reminder-eigen-de-composition"><span class="header-section-number">5.2</span> Reminder: eigen de-composition</h3>
<center>
<img src="imgs/2023-10-12-20-20-09.png" class="w550 img-fluid">
</center>
<pre></pre>
<p>Remarks:</p>
<ul>
<li>The total variance of our datapoints in the new dimensional space can be calculated by summing up the eigenvalues</li>
<li>We should think of <span class="math inline">\(U\)</span> as a change of basis from the D-dimensional space to the new dimensional space. This new dimensional space its determined by how many eigevector at the end we choose</li>
<li>Because the eigenvectors are orthonormal that means when we apply do the change of basis with the A_weird we are decorrelating our data.</li>
</ul>
</section>
<section id="how-to-choose-m" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="how-to-choose-m"><span class="header-section-number">5.3</span> How to choose M?</h3>
<center>
<img src="imgs/2023-10-12-20-27-46.png" class="w550 img-fluid">
</center>
<pre></pre>
</section>
<section id="feature-decorrelation" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="feature-decorrelation"><span class="header-section-number">5.4</span> Feature Decorrelation</h3>
<center>
<img src="imgs/2023-10-13-09-51-53.png" class="w550 img-fluid">
</center>
<pre></pre>
</section>
<section id="applications-whitening" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="applications-whitening"><span class="header-section-number">5.5</span> Applications: Whitening</h3>
<center>
<img src="imgs/2023-10-13-09-53-03.png" class="w550 img-fluid">
</center>
<pre></pre>
</section>
</section>
<section id="probabilistic-pca" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="probabilistic-pca"><span class="header-section-number">6</span> Probabilistic PCA</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Recall difference in Discrete and Continuous latent variable
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Discrete latent models: k-means, Gaussian Mixture models</li>
<li>Continuous latent models: probabilistic PCA, unsupervised regression</li>
</ul>
<p>If you compare k-means as latent clarifier then this can be consider as an unsupervised regression</p>
<p>If you compare Gaussian-mixture model then this can be though as continuous PPCA model</p>
</div>
</div>
<p>Probabilistic view of PCA:</p>
<ul>
<li>Learn it via maximum likelihood</li>
<li>(Third) alternative view of PCA</li>
<li>Both latent and observed variables are Gaussian</li>
</ul>
<section id="continuous-latent-variable-model" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="continuous-latent-variable-model"><span class="header-section-number">6.1</span> Continuous latent variable model</h3>
<center>
<img src="imgs/2023-10-13-12-06-24.png" class="w500 img-fluid">
</center>
<pre></pre>
<ul>
<li>We assume that there is a latent space z from which we can sample a point z.</li>
<li>Then I have this conditional p(x|z) given z what is the probability that is lands</li>
</ul>
</section>
<section id="ppca-modelling-assumptions" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="ppca-modelling-assumptions"><span class="header-section-number">6.2</span> PPCA modelling assumptions</h3>
<center>
<img src="imgs/2023-10-13-11-16-02.png" class="w575 img-fluid">
</center>
<pre></pre>
<blockquote class="blockquote">
<p>Recall z was the latent variable, the hidden variable the one its making something that we have x. Remember toughs â€“&gt; words</p>
</blockquote>
<ul>
<li>We assume that x is formed by a linear combinations with the latent variable z, W, <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\epsilon\)</span>
<ul>
<li>Here we are saying that there is a linear relation between z and x.<br>
</li>
</ul></li>
<li>Here, <span class="math inline">\(W\)</span>, <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\epsilon\)</span> are the parameters that we want to recover</li>
<li>Because z is Gaussian and noise is also modelled by Gaussian, then <span class="math inline">\(x\)</span> will also be Gaussian</li>
</ul>
</section>
<section id="it-follows" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="it-follows"><span class="header-section-number">6.3</span> It follows</h3>
<center>
<img src="imgs/2023-10-13-11-17-08.png" class="w550 img-fluid">
</center>
<center>
<img src="imgs/2023-10-13-12-31-31.png" class="w550 img-fluid">
</center>
<pre></pre>
<ul>
<li>In the covariance part we take out W because its not a random variable</li>
</ul>
</section>
<section id="probabilistic-pca-in-a-picture" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="probabilistic-pca-in-a-picture"><span class="header-section-number">6.4</span> Probabilistic PCA in a picture</h3>
<center>
<img src="imgs/2023-10-13-11-22-04.png" class="w550 img-fluid">
</center>
<pre></pre>
<p>From now on we can find the parameters by doing MLE</p>
</section>
<section id="the-log-likelihood" class="level3" data-number="6.5">
<h3 data-number="6.5" class="anchored" data-anchor-id="the-log-likelihood"><span class="header-section-number">6.5</span> The log-likelihood</h3>
<center>
<img src="imgs/2023-10-13-13-12-37.png" class="w550 img-fluid">
</center>
<pre></pre>
</section>
<section id="ppca-has-closed-form-solutions" class="level3" data-number="6.6">
<h3 data-number="6.6" class="anchored" data-anchor-id="ppca-has-closed-form-solutions"><span class="header-section-number">6.6</span> PPCA has closed-form solutions</h3>
<center>
<img src="imgs/2023-10-13-13-14-00.png" class="w550 img-fluid">
</center>
<pre></pre>
</section>
<section id="ppca-summary" class="level3" data-number="6.7">
<h3 data-number="6.7" class="anchored" data-anchor-id="ppca-summary"><span class="header-section-number">6.7</span> PPCA Summary</h3>
<center>
<img src="imgs/2023-10-13-13-18-12.png" class="w550 img-fluid">
</center>
<pre></pre>
<p><strong>Three views:</strong></p>
<ul>
<li>Max variance, min reconstruction error, probabilistic</li>
</ul>
<p><strong>Applications</strong></p>
<ul>
<li>Dimensionality reduction</li>
<li>2D/3D visualization</li>
<li>Compression</li>
<li>Whitening (de-correlating features)</li>
<li>(not mentioned) De-noising: discard the smallest variance features = the noise components (hopefully!)</li>
</ul>
<p><strong>Limitations:</strong></p>
<ul>
<li>Only linear transformations</li>
</ul>
</section>
<section id="comparing-pca-ppca" class="level3" data-number="6.8">
<h3 data-number="6.8" class="anchored" data-anchor-id="comparing-pca-ppca"><span class="header-section-number">6.8</span> Comparing PCA &amp; PPCA</h3>
<p>The PCA can be expressed as the maximum likelihood solution probabilistic PCA.</p>
<p>Advantages of the probabilistic PCA over the conventional PCA:</p>
<ul>
<li>We can associate a likelihood function to the probabilistic PCA which allows a direct comparison with other probabilistic density models</li>
<li>Probabilistic PCA can be used to model class-conditional densities and can thus be used in classification problems</li>
<li>We can run the model generatively to provide samples from the modeled distribution.</li>
</ul>
</section>
</section>
<section id="non-linear-pca" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="non-linear-pca"><span class="header-section-number">7</span> Non Linear PCA</h2>
<p>Find the subspace that maximizes the variance of the projection or minimizes the reconstruction error</p>
<p>By linear we mean all the data is cluster around one contour line like the green line. The question is can we do non-linear PCA where we have not the reed line which is clearly non-linear?</p>
</section>
<section id="pca-using-basis-functions" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="pca-using-basis-functions"><span class="header-section-number">8</span> PCA using basis functions</h2>
<p>The question is how do we map these non-linear data to a linear line such that we use basis function. We can do this in two ways:</p>
<center>
<img src="imgs/2023-10-13-17-35-45.png" class="w550 img-fluid">
</center>
<pre></pre>
<ol type="1">
<li>Using Neural Networks</li>
<li>Using kernel methods: we can do the mapping from original space to the new space without explicit modeling the basis functions</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
How to craft Basis functions?
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>We can use Neural Networks. For instance <span class="math inline">\(\mathbf{\phi(\textbf{x})} = NN(\textbf{x})\)</span>, where <span class="math inline">\(\textbf{x}\)</span> is the input vector</li>
<li>We can use Kernel methods where we do not make explicit use of basis functions</li>
</ol>
</div>
</div>
<p>We will first sketch the structure of an autoencoder</p>
</section>
<section id="auto-encoders-auto-associative-neural-nets" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="auto-encoders-auto-associative-neural-nets"><span class="header-section-number">9</span> Auto-encoders (auto-associative neural nets)</h2>
<center>
<img src="imgs/2023-10-13-17-45-08.png" class="w550 img-fluid">
</center>
<pre></pre>
<p>If <span class="math inline">\(f(x)=w^Tx\)</span> is a linear projection that goes from D to M then this resembles to PCA where we have <span class="math inline">\(z=\mu_M^T(x-\bar x)\)</span>. So if the function <span class="math inline">\(f(x)\)</span> is of form like in the PCA case then we have a linear projection that can transform our points to a lower dimensional space</p>
</section>
<section id="autoencoder-objective" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="autoencoder-objective"><span class="header-section-number">10</span> Autoencoder objective</h2>
<center>
<img src="imgs/2023-10-13-17-58-20.png" class="w550 img-fluid">
</center>
<pre></pre>
<ul>
<li>The mapping from input through the encoder, we call it the latent <span class="math inline">\(z_n\)</span>. The later is like a compression.</li>
<li>Before we will project the data into our principal components but now we let the NN learn what the latent mapping should be</li>
<li>When we carry out this encoder and decoder without using activation functions we end up in the PCA structure</li>
<li>If we use however activation function and we use more layers than 2, then we have a non-linear model which has no closed solutions and therefore we can solve it by SGD because our error is non-convex</li>
</ul>
</section>
<section id="autoencoder-as-generator" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="autoencoder-as-generator"><span class="header-section-number">11</span> Autoencoder as generator</h2>
<center>
<img src="imgs/2023-10-14-23-53-31.png" class="w550 img-fluid">
</center>
<pre></pre>
</section>
<section id="kernel-pca" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="kernel-pca"><span class="header-section-number">12</span> Kernel PCA</h2>
<p>We are use to express things in terms of features vectors, i.e the latent is obtained by taking the features vectors and projecting it onto a lower dimensional space</p>
<p>Now we are going to report our results in terms of the kernel <span class="math inline">\(k(\textbf{x}\textbf{x}_n)\)</span>. The result is that the projection would be purely in terms of the other data points via the kernel but not by my other parameters</p>
<p>This is another way how to do PCA for non-linear</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.danilotpnta\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../about/index.html">
<p><span class="footerDaniloToapanta">Mantained by Danilo Toapanta</span></p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../coming-soon.html">
<p>Newsletter</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../docs/sitemap.xml">
<p>RSS</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>

    let navbar = document.getElementsByClassName("navbar-nav")[0]    

    let li2 = document.createElement("li");
    li2.className = "nav-item compact";

    let a2 = document.createElement("a");
    a2.className = "nav-link quarto-color-scheme-toggle";
    a2.style.cursor = "pointer"
    li2.appendChild(a2)

    let i2 = document.createElement("i");
    i2.className = "bi bi-moon"
    a2.append(i2)

    navbar.appendChild(li2);

    i2.onclick = function() {
        window.quartoToggleColorScheme(); return false;
    }
    // <a href="http://localhost:4200/about/" class="quarto-color-scheme-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>

    let li = document.createElement("li");
    li.className = "nav-item compact";

    let a = document.createElement("a");
    a.className = "nav-link";
    a.style.cursor = "pointer"
    li.appendChild(a)

    let i = document.createElement("i");
    i.className = "bi bi-search"
    a.append(i)

    // let span = document.createElement("span");
    // span.className = "menu-text"
    // a.append(span)

    navbar.appendChild(li);

    a.onclick = function() {
        window.quartoOpenSearch()
    }


</script>






</body></html>